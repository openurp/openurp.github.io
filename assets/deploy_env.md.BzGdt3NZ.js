import{_ as i,c as a,o as t,ae as n}from"./chunks/framework.DNjB2eFM.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"deploy/env.md","filePath":"deploy/env.md"}'),e={name:"deploy/env.md"};function p(l,s,h,r,o,k){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h3 id="_1-操作系统" tabindex="-1">1 操作系统 <a class="header-anchor" href="#_1-操作系统" aria-label="Permalink to &quot;1 操作系统&quot;">​</a></h3><p>1.1 安装操作系统组件</p><ul><li>使用CentOS 8以上的版本</li><li>能够安装Java 11</li><li>能够安装PostgreSQL 12</li><li>能够安装Haproxy</li><li>能够安装Varnish</li><li>能够安装Wget,Unzip</li><li>能够安装lsof,apr,tomcat-native</li></ul><p>用root运行命令进行配置</p><pre><code>[root@centos ~]# dnf -y install https://download-ib01.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/e/epel-release-8-9.el8.noarch.rpm
[root@centos ~]# dnf -y install java-11-openjdk haproxy redis wget unzip varnish lsof apr tomcat-native 
[root@centos ~]# dnf -y install langpacks-zh_CN
[root@centos ~]# systemctl disable firewalld
[root@centos ~]# systemctl enable haproxy redis varnish
[root@centos ~]# systemctl start haproxy redis varnish
</code></pre><p>选择Java 11作为默认JDK</p><pre><code>[root@centos ~]# alternatives --config java
</code></pre><p>选择java11的序号</p><p>安装PostgreSQL 12</p><p>Centos 8 需要</p><pre><code>[root@centos ~]# yum -y install https://download.postgresql.org/pub/repos/yum/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm
[root@centos ~]# dnf -qy module disable postgresql
[root@centos ~]# dnf -y install postgresql12 postgresql12-server
[root@centos ~]# /usr/pgsql-12/bin/postgresql-12-setup initdb
[root@centos ~]# systemctl enable --now postgresql-12
[root@centos ~]# systemctl status postgresql-12
</code></pre><p>1.2 配置环境</p><p>禁用selinux</p><pre><code>[root@centos ~]# vi /etc/sysconfig/selinux
</code></pre><p>将文件中的“SELINUX=enforcing”改成“SELINUX=disabled”保存文件，然后重启，然后查看selinux状态。</p><pre><code>[root@centos ~]# reboot
[root@centos ~]# sestatus
SELinux status:                 disabled
</code></pre><p>1.3 创建openurp用户</p><pre><code>[root@centos ~]# useradd openurp
[root@centos ~]# passwd openurp
</code></pre><h3 id="_2-应用环境" tabindex="-1">2 应用环境 <a class="header-anchor" href="#_2-应用环境" aria-label="Permalink to &quot;2 应用环境&quot;">​</a></h3><p>2.1 安装Beangle Sas Server(以下使用openurp操作)</p><pre><code>[openurp@centos ~]$ wget http://beangle.github.io/sas/netinstall.sh
[openurp@centos ~]$ chmod +x ./netinstall.sh
[openurp@centos ~]$ ./netinstall.sh 0.8.1
</code></pre><p>之后在用户主目录会创建一个beangle-sas-server-0.8.1的目录。</p><p>2.2 配置sas</p><p>创建beangle-sas-server-0.8.1/conf/server.xml，编辑该文件，按照以下内容。</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1.0&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Sas</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.8.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Repository</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> remote</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://repo1.maven.org/maven2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Engines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Engine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tomcat9&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tomcat&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10.0.0-M9&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jspSupport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Jar</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;org.postgresql:postgresql:42.2.6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Engine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Engines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Sas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div>`,25)])])}const g=i(e,[["render",p]]);export{d as __pageData,g as default};
