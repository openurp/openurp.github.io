import{_ as i,c as a,o as l,ae as t}from"./chunks/framework.DNjB2eFM.js";const o=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"deploy/spa.md","filePath":"deploy/spa.md"}'),p={name:"deploy/spa.md"};function n(e,s,h,k,r,E){return l(),a("div",null,[...s[0]||(s[0]=[t(`<h3 id="_1-自助打印环境和构成" tabindex="-1">1. 自助打印环境和构成 <a class="header-anchor" href="#_1-自助打印环境和构成" aria-label="Permalink to &quot;1. 自助打印环境和构成&quot;">​</a></h3><p>1.1 安装环境要求</p><ul><li>Windows7 64位版本操作系统</li><li>Java 11运行环境</li><li>无杀毒软件和360软件卫士</li><li>可工作的打印驱动和默认打印机</li></ul><p>1.2 组件组成</p><ul><li>VC++ 2015 Distributable运行库(vc_redist.x64.exe)</li><li>PDF打印工具gostscript(gs927w64.exe)</li><li>转换网页为PDF工具wkhtmltox(wkhtmltox-0.12.5-1.msvc2015-win64.exe)</li><li>Beangle Kiosk(<a href="https://github.com/beangle/kiosk" target="_blank" rel="noreferrer">https://github.com/beangle/kiosk</a>)</li><li>自助打印客户端client(spa.zip)</li></ul><p>依次安装上述软件。将自助打印客户端解压到非系统盘(如D:)。目录以spa命名，内部文件一次是bin、conf、lib</p><p>1.3 安装读卡驱动</p><ul><li>运行epaycardopensvc_install_jre32_190912_11.exe，安装界面组件全选，依照提示安装vs2008。</li><li>在操作系统中将该服务设置为自启动，并启动服务</li><li>在操作系统C:\\Program Files(x86)\\Supwisdom Epaycardopensvc\\conf目录下找到application.properties更改更改两个属性的值。 <ul><li>cardlib.sid=com.supwisdom.epaycard.cpucard-new.d8</li><li>svc.baseurl=http://{server}:{port}/epayapi/services</li></ul></li></ul><p>如果已经有配置好的application.properties，可以直接覆盖。<strong>之后重启计算机。</strong></p><h3 id="_2-配置自助打印" tabindex="-1">2. 配置自助打印 <a class="header-anchor" href="#_2-配置自助打印" aria-label="Permalink to &quot;2. 配置自助打印&quot;">​</a></h3><p>解压spa.zip到D:目录下，解压后出现D:\\spa\\conf等目录。 编辑D:\\spa\\conf\\spa.xml文件，如下</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Spa</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;8888&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Server</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://{spa_server}/edu/spa/student/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">CardDriver</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;org.openurp.edu.spa.client.vendor.SupwisdomCardDriver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">termId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{终端ID}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">termId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">appId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{应用ID}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">appId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">appKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{应用KEY}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">appKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">CardDriver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Spa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>其中以下参数需要外部获得，再行填入：</p><ul><li>spa_server是学校自助打印的服务域名</li><li>应用ID 是自助打印接入一卡通申请的ID,如果增加部署机器，不需要重复申请，长度6位。</li><li>应用KEY 是该自助打印的对应ID的KEY，同理只申请一次，长度28位。</li><li>终端ID 是每增加一个读卡器都需要申请的，数字类型。</li></ul><p><strong>将bin目录下的start.vbs创建一个快捷方式，剪切到系统的启动目录中。</strong></p><h3 id="_3-配置kiosk浏览器" tabindex="-1">3. 配置Kiosk浏览器 <a class="header-anchor" href="#_3-配置kiosk浏览器" aria-label="Permalink to &quot;3. 配置Kiosk浏览器&quot;">​</a></h3><ul><li>安装Kiosk浏览器,放在D:\\spa\\下，保证D:\\spa\\kiosk\\kiosk.exe存在。</li></ul>`,17)])])}const g=i(p,[["render",n]]);export{o as __pageData,g as default};
